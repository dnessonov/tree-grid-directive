<md-dialog aria-label="Edit">
	<form ng-cloak>
		<md-toolbar>
			<div class="md-toolbar-tools">
				<h2>Edit</h2>
			</div>
		</md-toolbar>

		<div class="editable-grid-custom-modal-content">
			<div id="editable-grid-modal-content-element">
				<md-content layout="row" class="position-controls-row">
					<md-input-container flex="50">
						<label>Parent</label>
						<md-select ng-model="localParentValue" ng-change="parentItemChanged()">
							<md-option ng-repeat="option in localSelectValues" value="{{option.value}}">{{option.text}}</md-option>
						</md-select>
					</md-input-container>

					<md-input-container flex="50" ng-show="localSelectChildrenValues.length > 0">
						<label>After</label>
						<md-select ng-model="localChildValue">
							<md-option ng-repeat="option in localSelectChildrenValues" value="{{option.value}}">{{option.text}}</md-option>
						</md-select>
					</md-input-container>
				</md-content>

				<div layout="row" class="values-controls-row">
					<div flex="50">
						<div ng-repeat="col in colDefinitions" ng-if="$even">
							<div ng-if="col.type === 'text'">
								<md-input-container>
									<label>{{col.field}}</label>
									<input ng-model="localValues[col.field]" />
								</md-input-container>
							</div>
							<div ng-if="col.type === 'select'">
								<md-input-container>
									<label>{{col.field}}</label>
									<md-select ng-model="localValues[col.field]">
										<md-option ng-repeat="data in col.allowedValues" value="{{data}}">
											{{data}}
										</md-option>
									</md-select>
								</md-input-container>
							</div>
						</div>
					</div>
					<div flex="50">
						<div ng-repeat="col in colDefinitions" ng-if="$odd">
							<div ng-if="col.type === 'text'">
								<md-input-container>
									<label>{{col.field}}</label>
									<input ng-model="localValues[col.field]" />
								</md-input-container>
							</div>
							<div ng-if="col.type === 'select'">
								<md-input-container>
									<label>{{col.field}}</label>
									<md-select ng-model="localValues[col.field]">
										<md-option ng-repeat="data in col.allowedValues" value="{{data}}">
											{{data}}
										</md-option>
									</md-select>
								</md-input-container>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<md-dialog-actions layout="row">
			<span flex></span>
			<md-button class="md-raised" ng-click="cancel()">
				Close
			</md-button>
			<md-button class="md-raised md-primary" ng-click="answer()">
				Save
			</md-button>
		</md-dialog-actions>
	</form>
</md-dialog>